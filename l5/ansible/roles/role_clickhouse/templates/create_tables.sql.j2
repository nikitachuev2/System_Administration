-- Demo objects for lab (generated by Ansible)
CREATE DATABASE IF NOT EXISTS lab;

CREATE TABLE IF NOT EXISTS lab.t_demo_local (
  id UInt64,
  ts DateTime,
  msg String
)
ENGINE = ReplicatedMergeTree('/clickhouse/tables/{{ hostvars[inventory_hostname].shard }}/t_demo_local', '{{ hostvars[inventory_hostname].replica }}')
ORDER BY (id, ts);

CREATE TABLE IF NOT EXISTS lab.t_demo_dist AS lab.t_demo_local
ENGINE = Distributed({{ cluster_name }}, lab, t_demo_local, rand());
